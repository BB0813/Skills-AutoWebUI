{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Team%20Integration/%E5%85%89%E5%9C%88%E6%A3%B1%E9%95%9C-AperturePrism/Skills-AutoWebUI/src/components/LanguageSwitcher.tsx"],"sourcesContent":["\"use client\";\n\nimport { useTranslation } from \"@/lib/i18n/context\";\nimport { Languages } from \"lucide-react\";\nimport { useState } from \"react\";\n\nexport default function LanguageSwitcher() {\n  const { language, setLanguage } = useTranslation();\n  const [isOpen, setIsOpen] = useState(false);\n\n  const toggleLanguage = () => {\n    setLanguage(language === \"en\" ? \"zh\" : \"en\");\n    setIsOpen(false);\n  };\n\n  return (\n    <button\n      onClick={toggleLanguage}\n      className=\"glass-button flex items-center gap-2 text-sm font-medium hover:bg-muted/80 transition-all duration-300\"\n      title={language === \"en\" ? \"Switch to Chinese\" : \"Switch to English\"}\n    >\n      <Languages className=\"w-4 h-4\" />\n      <span className=\"uppercase\">{language}</span>\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG,IAAA,gJAAc;IAChD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,MAAM,iBAAiB;QACrB,YAAY,aAAa,OAAO,OAAO;QACvC,UAAU;IACZ;IAEA,qBACE,8OAAC;QACC,SAAS;QACT,WAAU;QACV,OAAO,aAAa,OAAO,sBAAsB;;0BAEjD,8OAAC,yNAAS;gBAAC,WAAU;;;;;;0BACrB,8OAAC;gBAAK,WAAU;0BAAa;;;;;;;;;;;;AAGnC"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///D:/Team%20Integration/%E5%85%89%E5%9C%88%E6%A3%B1%E9%95%9C-AperturePrism/Skills-AutoWebUI/src/lib/types.ts"],"sourcesContent":["export type ProviderType = \"openai\" | \"newapi\" | \"openwebui\" | \"custom\";\n\nexport interface Provider {\n  id: string;\n  name: string;\n  type: ProviderType;\n  baseUrl: string;\n  apiKey: string;\n  model: string;\n}\n\nexport interface Config {\n  providers: Provider[];\n  activeProvider: string | null;\n}\n\nexport type SupportedIDE = \"cursor\" | \"vscode\" | \"trae\" | \"windsurf\";\n\nexport const IDE_CONFIG: Record<SupportedIDE, { name: string; extension: string; format: \"markdown\" | \"json\" }> = {\n  cursor: { name: \"Cursor\", extension: \".mdc\", format: \"markdown\" },\n  vscode: { name: \"VS Code\", extension: \".code-snippets\", format: \"json\" },\n  trae: { name: \"Trae\", extension: \".zip\", format: \"markdown\" },\n  windsurf: { name: \"Windsurf\", extension: \".md\", format: \"markdown\" },\n};\n"],"names":[],"mappings":";;;;AAkBO,MAAM,aAAqG;IAChH,QAAQ;QAAE,MAAM;QAAU,WAAW;QAAQ,QAAQ;IAAW;IAChE,QAAQ;QAAE,MAAM;QAAW,WAAW;QAAkB,QAAQ;IAAO;IACvE,MAAM;QAAE,MAAM;QAAQ,WAAW;QAAQ,QAAQ;IAAW;IAC5D,UAAU;QAAE,MAAM;QAAY,WAAW;QAAO,QAAQ;IAAW;AACrE"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///D:/Team%20Integration/%E5%85%89%E5%9C%88%E6%A3%B1%E9%95%9C-AperturePrism/Skills-AutoWebUI/src/app/generator/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { ArrowLeft, Sparkles, Save, Copy, Loader2, Code, Terminal, Monitor, Download } from \"lucide-react\";\nimport { useTranslation } from \"@/lib/i18n/context\";\nimport LanguageSwitcher from \"@/components/LanguageSwitcher\";\nimport { SupportedIDE, IDE_CONFIG } from \"@/lib/types\";\n\nexport default function GeneratorPage() {\n  const { t } = useTranslation();\n  const [prompt, setPrompt] = useState(\"\");\n  const [skillName, setSkillName] = useState(\"\");\n  const [selectedIDE, setSelectedIDE] = useState<SupportedIDE>(\"vscode\");\n  const [generatedContent, setGeneratedContent] = useState(\"\");\n  const [filename, setFilename] = useState(\"skill.code-snippets\");\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [savedFilename, setSavedFilename] = useState<string | null>(null);\n\n  const generate = async () => {\n    if (!prompt) return;\n    setLoading(true);\n    setSavedFilename(null); // Reset saved file state on new generation\n    try {\n      const res = await fetch(\"/api/generate\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ prompt, ide: selectedIDE, skillName }),\n      });\n      const data = await res.json();\n      if (data.error) {\n        alert(data.error);\n      } else {\n        setGeneratedContent(data.content);\n        if (data.extension) {\n            let base = filename.substring(0, filename.lastIndexOf('.')) || \"skill\";\n            if (skillName) {\n                base = skillName.replace(/[^a-zA-Z0-9._-]/g, '_');\n            }\n            setFilename(`${base}${data.extension}`);\n        }\n      }\n    } catch (e) {\n      alert(\"Generation failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const save = async () => {\n    if (!generatedContent) return;\n    setSaving(true);\n    try {\n      const res = await fetch(\"/api/save-skill\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ filename, content: generatedContent }),\n      });\n      const data = await res.json();\n      if (res.ok && data.success) {\n        setSavedFilename(data.filename);\n        alert(t.generator.output.saved + data.filename);\n      } else {\n        alert(\"Save failed\");\n      }\n    } catch (e) {\n      alert(\"Save failed\");\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const downloadFile = () => {\n    if (!savedFilename) return;\n    window.location.href = `/api/download?file=${encodeURIComponent(savedFilename)}`;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background p-8 font-sans relative overflow-hidden\">\n      {/* Decorative background blobs */}\n      <div className=\"absolute bottom-[-10%] left-[-10%] w-[600px] h-[600px] rounded-full bg-accent/5 blur-[120px] pointer-events-none\" />\n\n      <div className=\"max-w-[1400px] mx-auto space-y-8 relative z-10\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-4\">\n            <Link href=\"/\" className=\"glass-button p-2.5 rounded-full hover:bg-muted/50\">\n              <ArrowLeft className=\"w-5 h-5\" />\n            </Link>\n            <h1 className=\"text-apple-headline\">{t.generator.title}</h1>\n          </div>\n          \n          <div className=\"flex items-center gap-4\">\n            <LanguageSwitcher />\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 h-[calc(100vh-180px)] min-h-[600px]\">\n          {/* Input Section */}\n          <div className=\"flex flex-col gap-4 animate-apple-fade-in [animation-delay:0.1s]\">\n            <div className=\"glass-card flex-1 flex flex-col p-6 space-y-6 relative group border-accent/10\">\n              \n              <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-2 text-accent\">\n                    <Sparkles className=\"w-5 h-5\" />\n                    <label className=\"text-sm font-semibold uppercase tracking-wider\">\n                      {t.generator.prompt.label}\n                    </label>\n                  </div>\n\n                  {/* IDE Selector */}\n                  <div className=\"flex items-center gap-2\">\n                    <Monitor className=\"w-4 h-4 text-muted-foreground\" />\n                    <select \n                        value={selectedIDE}\n                        onChange={(e) => setSelectedIDE(e.target.value as SupportedIDE)}\n                        className=\"glass-input py-1 px-3 text-sm appearance-none cursor-pointer min-w-[120px]\"\n                    >\n                        {Object.entries(IDE_CONFIG).map(([key, config]) => (\n                            <option key={key} value={key}>{config.name}</option>\n                        ))}\n                    </select>\n                  </div>\n              </div>\n\n              {/* Skill Name Input */}\n              <div className=\"space-y-2\">\n                <label className=\"text-xs font-semibold text-muted-foreground uppercase tracking-wider ml-1\">\n                  {t.generator.prompt.skillNameLabel}\n                </label>\n                <input\n                  type=\"text\"\n                  value={skillName}\n                  onChange={(e) => setSkillName(e.target.value)}\n                  placeholder={t.generator.prompt.skillNamePlaceholder}\n                  className=\"glass-input w-full\"\n                />\n              </div>\n              \n              <textarea\n                value={prompt}\n                onChange={(e) => setPrompt(e.target.value)}\n                placeholder={t.generator.prompt.placeholder}\n                className=\"flex-1 w-full bg-transparent resize-none focus:outline-none text-lg leading-relaxed placeholder:text-muted-foreground/30 font-light\"\n              />\n              \n              <div className=\"pt-4 border-t border-border/50\">\n                <button\n                  onClick={generate}\n                  disabled={loading || !prompt}\n                  className=\"glass-button-primary w-full flex items-center justify-center gap-2 py-4 text-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed shadow-xl shadow-accent/10 hover:shadow-accent/20\"\n                >\n                  {loading ? <Loader2 className=\"w-5 h-5 animate-spin\" /> : <Sparkles className=\"w-5 h-5\" />}\n                  {loading ? t.generator.prompt.generating : t.generator.prompt.button}\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Output Section */}\n          <div className=\"flex flex-col gap-4 animate-apple-fade-in [animation-delay:0.2s]\">\n            <div className=\"glass-card flex-1 flex flex-col p-0 overflow-hidden bg-white/40 dark:bg-black/40 backdrop-blur-2xl\">\n              {/* Toolbar */}\n              <div className=\"flex items-center justify-between px-6 py-4 border-b border-border/50 bg-white/20 dark:bg-black/20\">\n                <div className=\"flex items-center gap-2 text-muted-foreground\">\n                  <Code className=\"w-4 h-4\" />\n                  <label className=\"text-xs font-semibold uppercase tracking-wider\">\n                    {t.generator.output.label}\n                  </label>\n                </div>\n                \n                <div className=\"flex items-center gap-3\">\n                  <div className=\"relative group\">\n                    <Terminal className=\"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground\" />\n                    <input\n                      type=\"text\"\n                      value={filename}\n                      onChange={(e) => setFilename(e.target.value)}\n                      className=\"glass-input pl-9 py-1.5 text-sm w-48 text-right font-mono bg-white/20 dark:bg-black/20 focus:bg-white/40\"\n                      placeholder=\"filename.ts\"\n                    />\n                  </div>\n                  \n                  <div className=\"h-6 w-px bg-border/50\" />\n                  \n                  <button\n                    onClick={() => navigator.clipboard.writeText(generatedContent)}\n                    className=\"p-2 hover:bg-white/20 dark:hover:bg-white/10 rounded-lg transition-colors text-muted-foreground hover:text-foreground\"\n                    title={t.common.copy}\n                  >\n                    <Copy className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n              \n              {/* Code Area */}\n              <div className=\"flex-1 relative\">\n                <textarea\n                  value={generatedContent}\n                  onChange={(e) => setGeneratedContent(e.target.value)}\n                  className=\"absolute inset-0 w-full h-full bg-transparent resize-none focus:outline-none font-mono text-sm leading-relaxed p-6 text-foreground/90 selection:bg-accent/20\"\n                  spellCheck={false}\n                  placeholder={t.generator.output.placeholder}\n                />\n              </div>\n\n              {/* Action Bar */}\n              <div className=\"p-6 border-t border-border/50 bg-white/20 dark:bg-black/20 flex gap-4\">\n                <button\n                  onClick={save}\n                  disabled={saving || !generatedContent}\n                  className=\"glass-button w-full flex-1 flex items-center justify-center gap-2 py-3 disabled:opacity-50 hover:bg-white/40 dark:hover:bg-white/10\"\n                >\n                  {saving ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <Save className=\"w-4 h-4\" />}\n                  {saving ? t.generator.output.saving : t.generator.output.saveButton}\n                </button>\n\n                {savedFilename && (\n                  <button\n                    onClick={downloadFile}\n                    className=\"glass-button-primary flex-none px-6 flex items-center justify-center gap-2 py-3 animate-apple-fade-in\"\n                    title=\"Download File\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                    Download\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}